<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact - Lyoq Labs</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">

  <div class="logo-container">
    <img src="https://raw.githubusercontent.com/lyoqLabs/lyoqlabs.github.io/main/Assets/logo.png" 
         alt="Lyoq Labs Logo" 
         class="sidebar-logo">
  </div>

  <nav class="nav-links">
    <a href="index.html">Home</a>
    <a href="packs.html">Minecraft Texturepacks</a>
    <a class="active" href="contact.html">Contact</a>
  </nav>

  <div class="socials">
    <a href="https://discord.com" target="_blank">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="#fff">
        <path d="M20.317 4.369a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.1 18.057a.082.082 0 00.031.056 19.9 19.9 0 006.013 3.027.078.078 0 00.084-.028c.464-.63.875-1.295 1.226-1.994a.076.076 0 00-.041-.106 13.2 13.2 0 01-1.872-.878.077.077 0 01-.008-.128c.126-.094.252-.19.372-.29a.074.074 0 01.078-.01c3.927 1.793 8.18 1.793 12.061 0a.073.074 0 01.079.009c.12.1.246.197.372.29a.077.077 0 01-.006.128c-.6.35-1.23.642-1.872.878a.076.076 0 00-.04.107c.36.698.771 1.362 1.225 1.993a.076.076 0 00.084.028 19.83 19.83 0 006.013-3.027.077.077 0 00.03-.055c.5-5.177-.838-9.674-3.548-13.662a.061.061 0 00-.031-.028zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.419 0 1.334-.955 2.419-2.157 2.419zm7.974 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.095 2.157 2.419 0 1.334-.946 2.419-2.157 2.419z"/>
      </svg>
      <span>Discord</span>
    </a>
  </div>
</div>

<button id="toggle-btn">â˜°</button>

<!-- BACKGROUND -->
<canvas id="bg-canvas"></canvas>

<!-- CONTACT FORM -->
<div class="content">
  <section class="contact-section">

    <h1>Contact Lyoq Labs</h1>
    <p>If you have questions, feedback or ideas, feel free to contact us anytime.</p>

    <div class="contact-form">
      <label>Topic</label>
      <select id="topic">
        <option value="Feedback">Feedback</option>
        <option value="Idea">Idea</option>
        <option value="Question">Question</option>
      </select>

      <label>Your Name</label>
      <input type="text" id="name" placeholder="John Doe">

      <label>Your Email</label>
      <input type="email" id="email" placeholder="your@email.com">

      <label>Your Message</label>
      <textarea id="message" placeholder="Write your message here..."></textarea>

      <button id="sendBtn" class="neon-btn">Send Message</button>
    </div>

  </section>
</div>

<script src="script.js"></script>

<script>
  const COOLDOWN_HOURS = 3;
  const KEY = "contactCooldown";

  function checkCooldown() {
    const last = localStorage.getItem(KEY);
    if (!last) return false;
    const diff = (Date.now() - last) / 3600000;
    if (diff < COOLDOWN_HOURS) {
      alert("You can send another message in " + (COOLDOWN_HOURS - diff).toFixed(1) + " hours.");
      return true;
    }
    return false;
  }

  document.getElementById("sendBtn").addEventListener("click", async () => {
    if (checkCooldown()) return;

    const topic = topic.value;
    const nameVal = name.value.trim();
    const mailVal = email.value.trim();
    const msgVal = message.value.trim();

    if (!nameVal || !mailVal || !msgVal) {
      alert("Please fill all fields.");
      return;
    }

    const webhook = "https://discord.com/api/webhooks/1448962639072989365/kBOt6hCh-IjJ5S-tYYH1J4xZQpdz2eX9dgElDMw-51kiC48AJTWd3lH9mc06zt0GHSEX";

    const body = {
      embeds: [{
        title: "ðŸ“¨ New Contact Message",
        color: 0xffffff,
        fields: [
          { name: "Topic", value: topic, inline: true },
          { name: "Name", value: nameVal, inline: true },
          { name: "Email", value: mailVal, inline: true },
          { name: "Message", value: msgVal }
        ],
        footer: { text: "Lyoq Labs Contact" }
      }]
    };

    await fetch("https://corsproxy.io/?" + encodeURIComponent(webhook), {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(body)
    });

    alert("Message sent successfully!");
    localStorage.setItem(KEY, Date.now());
  });
</script>

</body>
</html>
